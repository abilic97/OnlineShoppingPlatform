<nav class="navbar navbar-expand-lg navbar-light bg-light px-3">
    <a class="navbar-brand" href="/products">
        <strong>E-marketplace</strong>
    </a>
    <div class="flex-grow-1"></div>
    <div class="d-flex align-items-center">
        <a routerLink="/cart" class="btn btn-link position-relative me-3" aria-label="Shopping cart">
            <i class="bi bi-cart" style="font-size: 1.5rem;"></i>
            <ng-container *ngIf="cartItemCount$">
                <span *ngIf="cartItemCount$ > 0"
                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    {{ cartItemCount$ }}
                </span>
            </ng-container>
        </a>
        <div class="dropdown">
            <button class="btn btn-link dropdown-toggle" type="button" id="userMenu" data-bs-toggle="dropdown"
                aria-expanded="false" aria-label="User menu">
                <i class="bi bi-person-circle" style="font-size: 1.7rem;"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">
                <li *ngIf="!loggedIn"><a class="dropdown-item" (click)="toggleLogin()">Login</a></li>
                <li *ngIf="loggedIn"><a class="dropdown-item" (click)="toggleLogin()">Logout</a></li>
            </ul>
        </div>
    </div>
</nav>